{"version":3,"sources":["../../src/products/products-endpoint.js"],"names":["makeProductsEndpointHandler","productList","handle","httpRequest","method","postProduct","getProducts","statusCode","errorMessage","id","pathParams","max","before","after","queryParams","result","headers","data","JSON","stringify"],"mappings":";;;;;;;AAAA;;;;AAEe,SAASA,2BAAT,CAAqC;AAClDC,EAAAA;AADkD,CAArC,EAEZ;AACD,SAAO,eAAeC,MAAf,CAAsBC,WAAtB,EAAmC;AACxC,YAAQA,WAAW,CAACC,MAApB;AACE,WAAK,MAAL;AACE,eAAOC,WAAW,CAACF,WAAD,CAAlB;;AAEF,WAAK,KAAL;AACE,eAAOG,WAAW,CAACH,WAAD,CAAlB;;AAEF;AACE,eAAO,wBAAc;AACnBI,UAAAA,UAAU,EAAE,GADO;AAEnBC,UAAAA,YAAY,EAAG,GAAEL,WAAW,CAACC,MAAO;AAFjB,SAAd,CAAP;AARJ;AAaD,GAdD;;AAgBA,iBAAeE,WAAf,CAA2BH,WAA3B,EAAwC;AACtC,UAAM;AACJM,MAAAA;AADI,QAEFN,WAAW,CAACO,UAAZ,IAA0B,EAF9B;AAGA,UAAM;AACJC,MAAAA,GADI;AAEJC,MAAAA,MAFI;AAGJC,MAAAA;AAHI,QAIFV,WAAW,CAACW,WAAZ,IAA2B,EAJ/B;AAMA,UAAMC,MAAM,GAAGN,EAAE,GAAG;AAClB,iBAAW;AACT,cAAM,CADG;AAET,gBAAQ;AAFC;AADO,KAAH,GAKb;AACF,iBAAW;AAET,gBAAQ;AAFC;AADT,KALJ;AAWA,WAAO;AACLO,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OADJ;AAILT,MAAAA,UAAU,EAAE,GAJP;AAKLU,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBJ,QAAAA;AADmB,OAAf;AALD,KAAP;AASD;;AAED,iBAAeV,WAAf,CAA2BF,WAA3B,EAAwC,CAEvC;AACF","sourcesContent":["import makeHttpError from \"../helpers/validators/http-error\";\n\nexport default function makeProductsEndpointHandler({\n  productList\n}) {\n  return async function handle(httpRequest) {\n    switch (httpRequest.method) {\n      case \"POST\":\n        return postProduct(httpRequest);\n\n      case \"GET\":\n        return getProducts(httpRequest);\n\n      default:\n        return makeHttpError({\n          statusCode: 405,\n          errorMessage: `${httpRequest.method} method not allowed.`\n        });\n    }\n  };\n\n  async function getProducts(httpRequest) {\n    const {\n      id\n    } = httpRequest.pathParams || {}\n    const {\n      max,\n      before,\n      after\n    } = httpRequest.queryParams || {}\n\n    const result = id ? {\n      \"product\": {\n        \"id\": 1,\n        \"name\": \"dildo\",\n      }\n    } : {\n      \"product\": {\n\n        \"name\": \"product found\",\n      }\n    }\n    return {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      statusCode: 200,\n      data: JSON.stringify({\n        result\n      })\n    };\n  }\n\n  async function postProduct(httpRequest) {\n\n  }\n}"],"file":"products-endpoint.js"}