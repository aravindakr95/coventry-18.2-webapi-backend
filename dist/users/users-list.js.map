{"version":3,"sources":["../../src/users/users-list.js"],"names":["UserSchema","mongoose","Schema","username","type","String","unique","password","required","role","User","model","makeUserList","database","Object","freeze","add","findByUsername","remove","replace","update","user","userObj","save","findOne"],"mappings":";;;;;;;AAAA;;;;AACA,IAAIA,UAAU,GAAGC,kBAASC,MAAT,CAAgB;AAC/BC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,MAAM,EAAE;AAFA,GADqB;AAK/BC,EAAAA,QAAQ,EAAE;AACRH,IAAAA,IAAI,EAAEC,MADE;AAERG,IAAAA,QAAQ,EAAE;AAFF,GALqB;AAS/BC,EAAAA,IAAI,EAAE;AACJL,IAAAA,IAAI,EAAEC,MADF;AAEJG,IAAAA,QAAQ,EAAE;AAFN;AATyB,CAAhB,CAAjB;;AAcA,IAAIE,IAAI,GAAGT,kBAASU,KAAT,CAAe,MAAf,EAAuBX,UAAvB,EAAmC,OAAnC,CAAX;;AACe,SAASY,YAAT,CAAsB;AACnCC,EAAAA;AADmC,CAAtB,EAEZ;AACD,SAAOC,MAAM,CAACC,MAAP,CAAc;AACnBC,IAAAA,GADmB;AAEnBC,IAAAA,cAFmB;AAGnBC,IAAAA,MAHmB;AAInBC,IAAAA,OAJmB;AAKnBC,IAAAA;AALmB,GAAd,CAAP;;AAOA,iBAAeJ,GAAf,CAAmB;AACjBK,IAAAA;AADiB,GAAnB,EAEG;AACD,QAAIC,OAAO,GAAG,IAAIZ,IAAJ,CAASW,IAAT,CAAd;AACA,WAAOC,OAAO,CAACC,IAAR,EAAP;AACD;;AAED,iBAAeN,cAAf,CAA8B;AAC5Bd,IAAAA;AAD4B,GAA9B,EAEG;AACD,WAAOO,IAAI,CAACc,OAAL,CAAa;AAClBrB,MAAAA;AADkB,KAAb,CAAP;AAGD;;AAED,iBAAee,MAAf,CAAsB,EAAtB,EAA0B,CAEzB,CAzBA,CA2BD;;;AACA,iBAAeC,OAAf,GAAyB,CAAE,CA5B1B,CA8BD;;;AACA,iBAAeC,MAAf,GAAwB,CAAE;AAE3B","sourcesContent":["import mongoose from 'mongoose';\nvar UserSchema = mongoose.Schema({\n  username: {\n    type: String,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  role: {\n    type: String,\n    required: true\n  }\n});\nvar User = mongoose.model('User', UserSchema, 'users');\nexport default function makeUserList({\n  database\n}) {\n  return Object.freeze({\n    add,\n    findByUsername,\n    remove,\n    replace,\n    update\n  })\n  async function add({\n    user\n  }) {\n    var userObj = new User(user);\n    return userObj.save();\n  }\n\n  async function findByUsername({\n    username\n  }) {\n    return User.findOne({\n      username\n    })\n  }\n\n  async function remove({}) {\n\n  }\n\n  // todo:\n  async function replace() {}\n\n  // todo:\n  async function update() {}\n\n}"],"file":"users-list.js"}